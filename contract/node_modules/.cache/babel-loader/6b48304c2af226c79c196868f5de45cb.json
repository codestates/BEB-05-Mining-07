{"ast":null,"code":"var _jsxFileName = \"/home/kbi/blockChain_part/bebpro_1/BEB-05-first-07/contract/src/components/Erc721.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport erc721Abi from \"../erc721Abi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Erc721(_ref) {\n  _s();\n\n  let {\n    web3,\n    account,\n    erc721list\n  } = _ref;\n  const [to, setTo] = useState(\"\");\n\n  const sendToken = async (tokenAddr, tokenId) => {\n    const tokenContract = await new web3.eth.Contract(erc721Abi, tokenAddr, {\n      from: account\n    });\n    tokenContract.methods.transferFrom(account, to, tokenId).send({\n      from: account\n    }).on('receipt', receipt => {\n      console.log('txHash:', receipt.transactionHash);\n      setTo('');\n      alert('transaction success. txHash:' + receipt.transactionHash);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"erc721list\",\n    children: erc721list.map((token, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"erc721token\",\n        children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: token.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 19\n        }, this), \"(\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"symbol\",\n          children: token.symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 62\n        }, this), \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nft\",\n          children: [\"id: \", token.tokenId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: token.tokenURI,\n          width: 300\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tokenTransfer\",\n          children: [\"To: \", \"\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: to,\n            onChange: e => {\n              setTo(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"sendErc20Btn\",\n            onClick: sendToken.bind(this, token.address, token.tokenId),\n            children: \"send Token\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Erc721, \"l3AonFYREVtB8xPsm0bwMfoQNR4=\");\n\n_c = Erc721;\nexport default Erc721;\n\nvar _c;\n\n$RefreshReg$(_c, \"Erc721\");","map":{"version":3,"names":["useState","erc721Abi","Erc721","web3","account","erc721list","to","setTo","sendToken","tokenAddr","tokenId","tokenContract","eth","Contract","from","methods","transferFrom","send","on","receipt","console","log","transactionHash","alert","map","token","idx","name","symbol","tokenURI","e","target","value","bind","address"],"sources":["/home/kbi/blockChain_part/bebpro_1/BEB-05-first-07/contract/src/components/Erc721.js"],"sourcesContent":["import {useState} from 'react';\nimport erc721Abi from \"../erc721Abi\";\n\nfunction Erc721({ web3, account, erc721list }) {\n  const [to, setTo] = useState(\"\");\n  const sendToken = async (tokenAddr, tokenId) => {\n    const tokenContract = await new web3.eth.Contract(erc721Abi, tokenAddr, { from: account });\n    tokenContract.methods\n      .transferFrom(account, to, tokenId)\n      .send({from: account})\n      .on('receipt', (receipt) => {\n        console.log('txHash:', receipt.transactionHash);\n        setTo('');\n        alert('transaction success. txHash:' + receipt.transactionHash);\n      });\n  };\n  return (\n    <div className='erc721list'>\n      {erc721list.map((token, idx) => {\n        return (\n          <div key={idx} className='erc721token'>\n            Name: <span className='name'>{token.name}</span>(<span className='symbol'>{token.symbol}</span>)\n            <div className='nft'>id: {token.tokenId}</div>\n            <img src={token.tokenURI} width={300} />\n            <div className='tokenTransfer'>\n              To: {\"\"}\n              <input type='text' value={to} onChange={(e) => {\n                setTo(e.target.value);\n              }}></input>\n              <button className='sendErc20Btn' onClick={sendToken.bind(this, token.address, token.tokenId)}>send Token</button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\nexport default Erc721;"],"mappings":";;;AAAA,SAAQA,QAAR,QAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,cAAtB;;;AAEA,SAASC,MAAT,OAA+C;EAAA;;EAAA,IAA/B;IAAEC,IAAF;IAAQC,OAAR;IAAiBC;EAAjB,CAA+B;EAC7C,MAAM,CAACC,EAAD,EAAKC,KAAL,IAAcP,QAAQ,CAAC,EAAD,CAA5B;;EACA,MAAMQ,SAAS,GAAG,OAAOC,SAAP,EAAkBC,OAAlB,KAA8B;IAC9C,MAAMC,aAAa,GAAG,MAAM,IAAIR,IAAI,CAACS,GAAL,CAASC,QAAb,CAAsBZ,SAAtB,EAAiCQ,SAAjC,EAA4C;MAAEK,IAAI,EAAEV;IAAR,CAA5C,CAA5B;IACAO,aAAa,CAACI,OAAd,CACGC,YADH,CACgBZ,OADhB,EACyBE,EADzB,EAC6BI,OAD7B,EAEGO,IAFH,CAEQ;MAACH,IAAI,EAAEV;IAAP,CAFR,EAGGc,EAHH,CAGM,SAHN,EAGkBC,OAAD,IAAa;MAC1BC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,OAAO,CAACG,eAA/B;MACAf,KAAK,CAAC,EAAD,CAAL;MACAgB,KAAK,CAAC,iCAAiCJ,OAAO,CAACG,eAA1C,CAAL;IACD,CAPH;EAQD,CAVD;;EAWA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,UACGjB,UAAU,CAACmB,GAAX,CAAe,CAACC,KAAD,EAAQC,GAAR,KAAgB;MAC9B,oBACE;QAAe,SAAS,EAAC,aAAzB;QAAA,kCACQ;UAAM,SAAS,EAAC,MAAhB;UAAA,UAAwBD,KAAK,CAACE;QAA9B;UAAA;UAAA;UAAA;QAAA,QADR,oBACmD;UAAM,SAAS,EAAC,QAAhB;UAAA,UAA0BF,KAAK,CAACG;QAAhC;UAAA;UAAA;UAAA;QAAA,QADnD,oBAEE;UAAK,SAAS,EAAC,KAAf;UAAA,mBAA0BH,KAAK,CAACf,OAAhC;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE;UAAK,GAAG,EAAEe,KAAK,CAACI,QAAhB;UAA0B,KAAK,EAAE;QAAjC;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE;UAAK,SAAS,EAAC,eAAf;UAAA,mBACO,EADP,eAEE;YAAO,IAAI,EAAC,MAAZ;YAAmB,KAAK,EAAEvB,EAA1B;YAA8B,QAAQ,EAAGwB,CAAD,IAAO;cAC7CvB,KAAK,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAL;YACD;UAFD;YAAA;YAAA;YAAA;UAAA,QAFF,eAKE;YAAQ,SAAS,EAAC,cAAlB;YAAiC,OAAO,EAAExB,SAAS,CAACyB,IAAV,CAAe,IAAf,EAAqBR,KAAK,CAACS,OAA3B,EAAoCT,KAAK,CAACf,OAA1C,CAA1C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QALF;QAAA;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA,GAAUgB,GAAV;QAAA;QAAA;QAAA;MAAA,QADF;IAcD,CAfA;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GAjCQxB,M;;KAAAA,M;AAkCT,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}